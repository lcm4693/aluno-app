<form [formGroup]="form" class="p-3">
  <div class="form-field">
    <label for="dataAula" class="label">Data da aula:</label>

    <p-datepicker
      formControlName="dataAula"
      size="small"
      showIcon
      iconDisplay="input"
      dateFormat="dd/mm/yy"
      [maxDate]="hoje"
      [ngClass]="{
        'ng-invalid ng-dirty':
          form.get('dataAula')?.invalid && form.get('dataAula')?.touched
      }"
    />
    <small
      class="error-message"
      *ngIf="
        form.get('dataAula')?.hasError('required') &&
        form.get('dataAula')?.touched
      "
    >
      Data da aula é obrigatória</small
    >

    <small
      class="error-message"
      *ngIf="form.get('dataAula')?.errors?.['dataNoFuturo']"
    >
      A data não pode ser futura.
    </small>
  </div>

  <div class="flex flex-col gap-4 md:flex-row">
    <div class="form-field w-full md:w-1/3">
      <label for="anotacoes" class="label">Anotações:</label>
      <textarea
        pInputTextarea
        id="anotacoes"
        formControlName="anotacoes"
        rows="10"
        class="w-full"
        [ngClass]="{
          'ng-invalid ng-dirty':
            form.get('anotacoes')?.invalid && form.get('anotacoes')?.touched
        }"
      ></textarea>
      <small
        class="error-message"
        *ngIf="
          form.get('anotacoes')?.hasError('required') &&
          form.get('anotacoes')?.touched
        "
      >
        O campo Anotações é obrigatório</small
      >
    </div>
    <div class="form-field w-full md:w-1/3">
      <label for="campo1" class="label">Comentários do professor:</label>
      <textarea
        pInputTextarea
        id="comentarios"
        formControlName="comentarios"
        rows="10"
        class="w-full"
      ></textarea>
    </div>
    <div class="form-field w-full md:w-1/3">
      <label for="proxima-aula" class="label">Próxima aula:</label>
      <textarea
        pInputTextarea
        id="proxima-aula"
        formControlName="proximaAula"
        rows="10"
        class="w-full"
      ></textarea>
    </div>
  </div>

  <!-- Botões ao centro -->
  <div class="flex justify-center gap-4 mt-4">
    <p-button
      label="Salvar"
      icon="pi pi-check"
      class="p-button-primary"
      (onClick)="salvar()"
    ></p-button>
    <p-button
      label="Cancelar"
      icon="pi pi-times"
      [raised]="true"
      severity="secondary"
      (onClick)="onCancel()"
    ></p-button>
  </div>
</form>
